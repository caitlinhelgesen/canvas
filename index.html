<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Canvas Example</title>
    <style type="text/css">
      canvas{
        border: 1px solid black;
      }
      </style>
  </head>
<body>
  <canvas id="canvas" width="500" height="500">
  An alternative text describing what your canvas displays.
</canvas>

<!-- <p>Click the button to create a Color picker.</p> -->

<!-- <button onclick="colorPicker()">Try it</button> -->
<!-- <input type="color" id="bgcolor" value="#ffffff"/> -->
<p>Select your color:<p>
<input type="color" id="colorPicker" value="#ff0000">
<script>


  var canvas = document.querySelector('canvas');
  var ctx = canvas.getContext('2d');
  var x = 0
  var y = 0
  var color = "red"
  var radius = 20;
  draw();

  function draw(){
    ctx.beginPath();
    ctx.arc(x, y, radius, 0, 20 * Math.PI)
    ctx.fillStyle= color;
    ctx.fill();
  }
//draw tool
window.addEventListener('mousemove', function (e){
    // console.log(e.pageX);
    // console.log(e.pageY);
  x=e.pageX;
  y=e.pageY;
  draw();
})

window.addEventListener('touchmove', function (e) {
      x = e.touches[0].pageX;
      y = e.touches[0].pageY;
      draw();
    })


//event listener to make pen larger
window.addEventListener('keydown', function (e){
  console.log(e.keyCode);
  if (e.keyCode==38){
    radius=radius + 1;
  }
  draw();
})
//event listener to make pen smaller
window.addEventListener('keydown', function (e){
  console.log(e.keyCode);

  if (e.keyCode==40)
  {
    if (radius - 1 < 1)
    {
      radius=radius;
    }else
      {
        radius=radius - 1;
      }
  }
  draw(); //if keycode is
})

console.log(window.visualViewport)
var viewHeight = window.visualViewport.height * .8
var viewWidth = window.visualViewport.width * .8
console.log(viewHeight)

// set canvas size
 window.addEventListener('load', function (e){
   canvas.width = viewWidth;
   canvas.height = viewHeight;
 })


//event listener to change colors
window.addEventListener('keydown', function (e){
  if (e.keyCode==66){
    color="blue";
  }
  else if (e.keyCode==71){
    color="green";
  }
  else if(e.keyCode==89){
    color="yellow";
  }
  draw();
})

//event listener to clear canvas
window.addEventListener('keydown', function (e){
  console.log(e.keyCode);
  if (e.keyCode==32){ //32 is space bar
    ctx.clearRect(0,0, canvas.width, canvas.height);  //method to clear; requires X,Y coordinates and width and height
  }
  draw();
})

window.addEventListener('orientationchange', function (e), {
  console.log('orientation')
  ctx.clearRect(0,0, canvas.width, canvas.height);
  canvas.width = viewWidth;
  canvas.height = viewHeight;
  draw();
})

document.getElementById("colorPicker").addEventListener('input', function (e){
  console.log(e);
  color=document.getElementById("colorPicker").value;
  console.log(document.getElementById("colorPicker").value);
draw();
})





</script>
  </body>
</html>
